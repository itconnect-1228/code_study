# Frontend Architecture

AI Code Learning Platform - React 기반 프론트엔드 애플리케이션 구조

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                          FRONTEND ARCHITECTURE                                ║
║                         AI Code Learning Platform                             ║
╚══════════════════════════════════════════════════════════════════════════════╝


┌──────────────────────────────────────────────────────────────────────────────┐
│                              main.tsx                                         │
│                        ┌──────────────────┐                                   │
│                        │   React 19.2     │                                   │
│                        │   Application    │                                   │
│                        │                  │                                   │
│                        │ • StrictMode     │                                   │
│                        │ • QueryProvider  │                                   │
│                        │ • BrowserRouter  │                                   │
│                        └────────┬─────────┘                                   │
└─────────────────────────────────┼─────────────────────────────────────────────┘
                                  │
                                  ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                               App.tsx                                         │
│                         (React Router v7)                                     │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                               │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                         AuthProvider                                     │ │
│  │                    (인증 상태 초기화)                                    │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐   │ │
│  │  │                      Routes                                      │   │ │
│  │  │                                                                  │   │ │
│  │  │   ┌─────────────────────────────────────────────────────────┐   │   │ │
│  │  │   │               ProtectedRoute                            │   │   │ │
│  │  │   │            (인증 필요 페이지)                           │   │   │ │
│  │  │   │   ┌──────────────────────────────────────────────────┐  │   │   │ │
│  │  │   │   │                  Layout                          │  │   │   │ │
│  │  │   │   │            (Header + Main)                       │  │   │   │ │
│  │  │   │   │   ┌────────────────────────────────────────────┐ │  │   │   │ │
│  │  │   │   │   │                Outlet                      │ │  │   │   │ │
│  │  │   │   │   │  /           → Dashboard                   │ │  │   │   │ │
│  │  │   │   │   │  /dashboard  → Dashboard                   │ │  │   │   │ │
│  │  │   │   │   │  /projects/:id → ProjectDetail             │ │  │   │   │ │
│  │  │   │   │   │  /tasks/:id → TaskDetail                   │ │  │   │   │ │
│  │  │   │   │   │  /trash → Trash                            │ │  │   │   │ │
│  │  │   │   │   └────────────────────────────────────────────┘ │  │   │   │ │
│  │  │   │   └──────────────────────────────────────────────────┘  │   │   │ │
│  │  │   └─────────────────────────────────────────────────────────┘   │   │ │
│  │  │                                                                  │   │ │
│  │  │   ┌─────────────────────────────────────────────────────────┐   │   │ │
│  │  │   │              Public Routes (인증 불필요)                │   │   │ │
│  │  │   │   /login    → Login                                     │   │   │ │
│  │  │   │   /register → Register                                  │   │   │ │
│  │  │   └─────────────────────────────────────────────────────────┘   │   │ │
│  │  │                                                                  │   │ │
│  │  └──────────────────────────────────────────────────────────────────┘   │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                               │
└──────────────────────────────────────────────────────────────────────────────┘


┌──────────────────────────────────────────────────────────────────────────────┐
│                           Page Components                                     │
│                            (pages/ 폴더)                                      │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐
│     Dashboard       │  │    ProjectDetail    │  │     TaskDetail      │
│    (Dashboard.tsx)  │  │  (ProjectDetail.tsx)│  │   (TaskDetail.tsx)  │
├─────────────────────┤  ├─────────────────────┤  ├─────────────────────┤
│ Route: /            │  │ Route: /projects/:id│  │ Route: /tasks/:id   │
│        /dashboard   │  │                     │  │                     │
│                     │  │                     │  │                     │
│ 기능:               │  │ 기능:               │  │ 기능:               │
│ • 프로젝트 목록     │  │ • 프로젝트 정보     │  │ • 태스크 정보       │
│ • 새 프로젝트 생성  │  │ • 태스크 타임라인   │  │ • 학습 문서 뷰어    │
│ • 빈 상태 처리      │  │ • 태스크 생성       │  │ • 문서 생성 요청    │
│                     │  │ • 프로젝트 편집     │  │ • 코드 하이라이팅   │
│                     │  │ • 프로젝트 삭제     │  │                     │
│                     │  │                     │  │                     │
│ 사용 컴포넌트:      │  │ 사용 컴포넌트:      │  │ 사용 컴포넌트:      │
│ • ProjectCard       │  │ • TaskCard          │  │ • DocumentViewer    │
│ • CreateProject     │  │ • CreateTaskModal   │  │   • CodePanel       │
│   Modal             │  │ • EditDialog        │  │   • ExplanationPanel│
│                     │  │ • DeleteDialog      │  │ • LoadingState      │
│                     │  │                     │  │                     │
│ Hooks:              │  │ Hooks:              │  │ Hooks:              │
│ • useQuery          │  │ • useQuery          │  │ • useQuery          │
│   (projects)        │  │   (project)         │  │   (task, document)  │
│ • useMutation       │  │   (tasks)           │  │ • useMutation       │
│   (create)          │  │ • useMutation       │  │   (generate)        │
│                     │  │   (CRUD)            │  │                     │
└─────────────────────┘  └─────────────────────┘  └─────────────────────┘

┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐
│       Trash         │  │       Login         │  │      Register       │
│    (Trash.tsx)      │  │    (Login.tsx)      │  │   (Register.tsx)    │
├─────────────────────┤  ├─────────────────────┤  ├─────────────────────┤
│ Route: /trash       │  │ Route: /login       │  │ Route: /register    │
│                     │  │                     │  │                     │
│ 기능:               │  │ 기능:               │  │ 기능:               │
│ • 삭제된 프로젝트   │  │ • 이메일/비밀번호   │  │ • 회원가입 폼       │
│   목록              │  │   로그인            │  │ • 이메일 검증       │
│ • 복원              │  │ • 에러 표시         │  │ • 비밀번호 확인     │
│ • 영구 삭제         │  │ • 회원가입 링크     │  │ • 로그인 링크       │
│ • 자동 삭제 안내    │  │                     │  │                     │
│                     │  │                     │  │                     │
│ 사용 컴포넌트:      │  │ 사용 컴포넌트:      │  │ 사용 컴포넌트:      │
│ • TrashedProject    │  │ • LoginForm         │  │ • RegisterForm      │
│   Card              │  │ • Input             │  │ • Input             │
│ • RestoreDialog     │  │ • Button            │  │ • Button            │
│ • DeleteDialog      │  │ • Alert             │  │ • Alert             │
│                     │  │                     │  │                     │
└─────────────────────┘  └─────────────────────┘  └─────────────────────┘


┌──────────────────────────────────────────────────────────────────────────────┐
│                         Component Hierarchy                                   │
│                          (components/ 폴더)                                   │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                              Layout                                          │
│                          (layout/Layout.tsx)                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │                           Header                                    │    │
│   │                      (layout/Header.tsx)                           │    │
│   │  ┌──────────────┐  ┌──────────────┐  ┌────────────────────────┐   │    │
│   │  │    Logo      │  │   Nav Links  │  │    User Menu           │   │    │
│   │  │  (홈 링크)   │  │  Dashboard   │  │  • 사용자 이름         │   │    │
│   │  │              │  │  Trash       │  │  • 로그아웃            │   │    │
│   │  └──────────────┘  └──────────────┘  └────────────────────────┘   │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │                            Main                                     │    │
│   │                         <Outlet />                                  │    │
│   │                    (라우터 자식 렌더링)                             │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                        Project Components                                     │
│                       (project/ 폴더)                                         │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────┐        ┌─────────────────────────┐
│     ProjectCard         │        │   CreateProjectModal    │
│   (ProjectCard.tsx)     │        │(CreateProjectModal.tsx) │
├─────────────────────────┤        ├─────────────────────────┤
│                         │        │                         │
│ Props:                  │        │ Props:                  │
│ • project: Project      │        │ • open: boolean         │
│                         │        │ • onOpenChange: fn      │
│ 표시:                   │        │ • onSubmit: fn          │
│ • 제목                  │        │                         │
│ • 설명 (truncate)       │        │ 필드:                   │
│ • 생성일                │        │ • title (필수)          │
│ • 태스크 수             │        │ • description (선택)    │
│                         │        │                         │
│ 기능:                   │        │ 검증:                   │
│ • 클릭 → ProjectDetail  │        │ • 제목 필수             │
│ • 호버 효과             │        │ • 제출 시 loading       │
│                         │        │                         │
│ 사용:                   │        │ 사용:                   │
│ • Card (shadcn)         │        │ • Dialog                │
│ • Badge                 │        │ • Input, Textarea       │
│ • Link                  │        │ • Button                │
│                         │        │                         │
└─────────────────────────┘        └─────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                          Task Components                                      │
│                          (task/ 폴더)                                         │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────┐        ┌──────────────────────────────────────────┐
│       TaskCard          │        │          CreateTaskModal                  │
│    (TaskCard.tsx)       │        │       (CreateTaskModal.tsx)               │
├─────────────────────────┤        ├──────────────────────────────────────────┤
│                         │        │                                           │
│ Props:                  │        │ Props:                                    │
│ • task: Task            │        │ • projectId: string                       │
│ • onClick?: fn          │        │ • open: boolean                           │
│                         │        │ • onOpenChange: fn                        │
│ 표시:                   │        │ • onSuccess: fn                           │
│ • Task #{task_number}   │        │                                           │
│ • 제목                  │        │ 업로드 방식 (Tabs):                       │
│ • 언어 (Badge)          │        │ ┌─────────────────────────────────────┐   │
│ • 복잡도 (Badge)        │        │ │  File    │  Folder   │   Paste     │   │
│ • 생성일                │        │ └─────────────────────────────────────┘   │
│                         │        │                                           │
│ 기능:                   │        │ • FileUpload: 단일/다중 파일 선택        │
│ • 클릭 → TaskDetail     │        │ • FolderUpload: 폴더 선택 (재귀)         │
│ • 타임라인 스타일       │        │ • PasteCode: 코드 직접 입력 + 언어 선택  │
│                         │        │                                           │
│ 사용:                   │        │ 공통 필드:                                │
│ • Card                  │        │ • title (필수, 5자 이상)                  │
│ • Badge                 │        │ • description (선택, 500자 이하)          │
│                         │        │                                           │
│                         │        │ 검증:                                     │
│                         │        │ • 파일 확장자                             │
│                         │        │ • 파일 크기 (10MB)                        │
│                         │        │ • 바이너리 파일 차단                      │
│                         │        │                                           │
│                         │        │ 제출:                                     │
│                         │        │ • FormData (multipart)                    │
│                         │        │ • useMutation                             │
│                         │        │                                           │
└─────────────────────────┘        └──────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                       Document Components                                     │
│                        (document/ 폴더)                                       │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                          DocumentViewer                                      │
│                     (DocumentViewer.tsx)                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Props:                                                                      │
│  • document: LearningDocument                                                │
│  • code: string                                                              │
│                                                                              │
│  ┌──────────────────────────────┬───────────────────────────────────────┐   │
│  │                              │                                       │   │
│  │        CodePanel             │         ExplanationPanel              │   │
│  │     (좌측 50%)               │          (우측 50%)                   │   │
│  │                              │                                       │   │
│  │  ┌────────────────────────┐  │  ┌─────────────────────────────────┐ │   │
│  │  │                        │  │  │           Tabs                   │ │   │
│  │  │     Monaco Editor      │  │  │ ┌─────┬─────┬─────┬─────┬─────┐ │ │   │
│  │  │                        │  │  │ │요약 │사전 │핵심 │라인 │문법 │ │ │   │
│  │  │  • 코드 표시           │  │  │ │     │지식 │로직 │설명 │참조 │ │ │   │
│  │  │  • 구문 하이라이팅     │  │  │ │Ch1  │Ch2  │Ch3  │Ch4  │Ch5  │ │ │   │
│  │  │  • 라인 번호           │  │  │ └─────┴─────┴─────┴─────┴─────┘ │ │   │
│  │  │  • 선택 라인 강조      │  │  │ ┌─────┬──────────┐              │ │   │
│  │  │                        │  │  │ │패턴 │연습문제  │              │ │   │
│  │  │  상호작용:             │  │  │ │Ch6  │Ch7       │              │ │   │
│  │  │  • ExplanationPanel    │  │  │ └─────┴──────────┘              │ │   │
│  │  │    에서 라인 클릭 시   │  │  └─────────────────────────────────┘ │   │
│  │  │    해당 라인 하이라이트│  │                                       │   │
│  │  │                        │  │  각 Chapter 내용:                     │   │
│  │  │                        │  │  • Chapter1: 요약 텍스트              │   │
│  │  └────────────────────────┘  │  • Chapter2: ConceptCard 목록         │   │
│  │                              │  • Chapter3: 핵심 로직 설명           │   │
│  │  사용:                       │  • Chapter4: 라인별 설명              │   │
│  │  • @monaco-editor/react      │    (lineNumber, code, explanation)    │   │
│  │  • 언어 자동 감지            │  • Chapter5: 문법 항목                │   │
│  │                              │  • Chapter6: 패턴 예시                │   │
│  │                              │  • Chapter7: 연습 문제                │   │
│  └──────────────────────────────┴───────────────────────────────────────┘   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────┐        ┌─────────────────────────┐
│ DocumentViewerLoading   │        │   DocumentError         │
├─────────────────────────┤        ├─────────────────────────┤
│                         │        │                         │
│ 상태별 표시:            │        │ Props:                  │
│                         │        │ • error: string         │
│ • pending:              │        │ • onRetry: fn           │
│   "문서 생성 필요"      │        │                         │
│   [생성하기] 버튼       │        │ 표시:                   │
│                         │        │ • 에러 메시지           │
│ • generating:           │        │ • 재시도 버튼           │
│   Spinner + 진행률      │        │                         │
│   "AI가 분석 중..."     │        │                         │
│                         │        │                         │
│ • error:                │        │                         │
│   에러 메시지           │        │                         │
│   [재시도] 버튼         │        │                         │
│                         │        │                         │
└─────────────────────────┘        └─────────────────────────┘


┌──────────────────────────────────────────────────────────────────────────────┐
│                           UI Components                                       │
│                        (ui/ 폴더 - shadcn/ui)                                 │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
│  Button  │ │  Input   │ │  Card    │ │  Dialog  │ │  Badge   │ │  Tabs    │
├──────────┤ ├──────────┤ ├──────────┤ ├──────────┤ ├──────────┤ ├──────────┤
│ variant: │ │ type:    │ │ Card     │ │ Dialog   │ │ variant: │ │ Tabs     │
│ • default│ │ • text   │ │ CardHead │ │ Trigger  │ │ • default│ │ TabsList │
│ • outline│ │ • email  │ │ CardTitle│ │ Content  │ │ •secondary│ │TabsTrigger│
│ • ghost  │ │ • password│ │ CardDesc │ │ Header   │ │ •destructive│ │TabsContent│
│ • link   │ │ • file   │ │ CardCont │ │ Footer   │ │ • outline│ │          │
│ •destructive│          │ │ CardFooter│ │ Close    │ │          │ │          │
└──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘

┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
│  Alert   │ │Textarea  │ │  Label   │ │ Skeleton │ │  Spinner │
├──────────┤ ├──────────┤ ├──────────┤ ├──────────┤ ├──────────┤
│ variant: │ │ 여러 줄  │ │ 폼 라벨  │ │ 로딩     │ │ 로딩     │
│ • default│ │ 입력     │ │ htmlFor  │ │ 플레이스 │ │ 스피너   │
│ •destructive│          │ │          │ │ 홀더     │ │          │
└──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘


┌──────────────────────────────────────────────────────────────────────────────┐
│                          Service Layer                                        │
│                        (services/ 폴더)                                       │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                           api-client.ts                                      │
│                        (Axios 인스턴스)                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  const apiClient = axios.create({                                            │
│    baseURL: VITE_API_BASE_URL || 'http://localhost:8000/api/v1',            │
│    timeout: 30000,           // 30초                                         │
│    withCredentials: true,    // 쿠키 포함 (JWT)                              │
│    headers: {                                                                │
│      'Content-Type': 'application/json',                                     │
│    },                                                                        │
│  })                                                                          │
│                                                                              │
│  Interceptors (미래 확장):                                                   │
│  • Request: CSRF 토큰, 요청 로깅                                             │
│  • Response: 401 처리, 토큰 갱신, 에러 표준화                                │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
         │
         │ 사용
         ▼
┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐
│    authService      │  │   projectService    │  │    taskService      │
│  (auth-service.ts)  │  │(project-service.ts) │  │ (task-service.ts)   │
├─────────────────────┤  ├─────────────────────┤  ├─────────────────────┤
│                     │  │                     │  │                     │
│• register()         │  │• getProjects()      │  │• getTasks()         │
│  POST /auth/register│  │  GET /projects      │  │  GET /projects/:id/ │
│                     │  │  ?include_trashed   │  │    tasks            │
│• login()            │  │                     │  │                     │
│  POST /auth/login   │  │• getProject()       │  │• getTask()          │
│                     │  │  GET /projects/:id  │  │  GET /tasks/:id     │
│• logout()           │  │                     │  │                     │
│  POST /auth/logout  │  │• createProject()    │  │• createTask()       │
│                     │  │  POST /projects     │  │  POST /projects/:id/│
│• getMe()            │  │                     │  │    tasks            │
│  GET /auth/me       │  │• updateProject()    │  │  (FormData)         │
│                     │  │  PATCH /projects/:id│  │                     │
│• refresh()          │  │                     │  │• updateTask()       │
│  POST /auth/refresh │  │• deleteProject()    │  │  PATCH /tasks/:id   │
│                     │  │  DELETE /projects/  │  │                     │
│                     │  │    :id              │  │• deleteTask()       │
│DTO 변환:            │  │                     │  │  DELETE /tasks/:id  │
│ response → User     │  │• restoreProject()   │  │                     │
│                     │  │  POST /projects/:id/│  │• getTaskCode()      │
│                     │  │    restore          │  │  GET /tasks/:id/code│
│                     │  │                     │  │                     │
│                     │  │• permanentDelete()  │  │DTO 변환:            │
│                     │  │  DELETE /projects/  │  │ snake_case →        │
│                     │  │    :id/permanent    │  │   camelCase         │
│                     │  │                     │  │                     │
│                     │  │DTO 변환:            │  │                     │
│                     │  │ snake_case →        │  │                     │
│                     │  │   camelCase         │  │                     │
└─────────────────────┘  └─────────────────────┘  └─────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                        documentService                                       │
│                     (document-service.ts)                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  • getDocument(taskId)                                                       │
│    GET /tasks/:id/document                                                   │
│    → LearningDocument (chapters 변환)                                        │
│                                                                              │
│  • generateDocument(taskId)                                                  │
│    POST /tasks/:id/document/generate                                         │
│    → GenerateResponse                                                        │
│                                                                              │
│  • getDocumentStatus(taskId)                                                 │
│    GET /tasks/:id/document/status                                            │
│    → { status, progress, error }                                             │
│                                                                              │
│  DTO 변환:                                                                   │
│  • Backend chapters → Frontend chapters                                       │
│  • status 변환: 'in_progress' → 'generating'                                 │
│                 'failed' → 'error'                                           │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘


┌──────────────────────────────────────────────────────────────────────────────┐
│                         State Management                                      │
│                          (stores/ 폴더)                                       │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                           auth-store.ts                                      │
│                           (Zustand)                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  interface AuthState {                                                       │
│    user: User | null;                                                        │
│    isAuthenticated: boolean;                                                 │
│    isLoading: boolean;                                                       │
│  }                                                                           │
│                                                                              │
│  interface AuthActions {                                                     │
│    setUser: (user: User | null) => void;                                     │
│    setLoading: (loading: boolean) => void;                                   │
│    clearAuth: () => void;  // 로그아웃                                       │
│  }                                                                           │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                    Optimized Selectors                                 │ │
│  │                                                                        │ │
│  │  useUser()            → state.user (리렌더링 최소화)                   │ │
│  │  useIsAuthenticated() → state.isAuthenticated                          │ │
│  │  useAuthLoading()     → state.isLoading                                │ │
│  │                                                                        │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  특징:                                                                       │
│  • JWT는 HTTPOnly 쿠키에 저장 (XSS 보호)                                     │
│  • Store는 UI 상태만 관리                                                    │
│  • Zustand devtools 통합                                                     │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                         React Query Cache                                    │
│                       (queryClient.ts)                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Query Keys:                                                                 │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ ['projects']                    → 프로젝트 목록                        │ │
│  │ ['projects', 'trashed']         → 삭제된 프로젝트                      │ │
│  │ ['project', id]                 → 특정 프로젝트                        │ │
│  │ ['tasks', projectId]            → 프로젝트의 태스크 목록               │ │
│  │ ['task', taskId]                → 특정 태스크                          │ │
│  │ ['taskCode', taskId]            → 태스크의 코드 파일                   │ │
│  │ ['document', taskId]            → 태스크의 학습 문서                   │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  Default Options:                                                            │
│  • staleTime: 5분                                                            │
│  • gcTime: 10분                                                              │
│  • retry: 3                                                                  │
│  • refetchOnWindowFocus: false                                               │
│                                                                              │
│  Invalidation 전략:                                                          │
│  • 프로젝트 생성 → invalidate ['projects']                                   │
│  • 태스크 생성 → invalidate ['tasks', projectId]                             │
│  • 문서 생성 → invalidate ['document', taskId]                               │
│                                                                              │
│  Polling:                                                                    │
│  • document status가 'generating'일 때                                       │
│  • refetchInterval: 3000ms (3초)                                             │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘


┌──────────────────────────────────────────────────────────────────────────────┐
│                           Data Flow Summary                                   │
│                         (데이터 흐름 요약)                                    │
└──────────────────────────────────────────────────────────────────────────────┘

    User Interaction
           │
           ▼
    ┌─────────────┐
    │    Page     │  (Dashboard, ProjectDetail, TaskDetail, ...)
    │ Component   │
    └──────┬──────┘
           │ useQuery / useMutation
           ▼
    ┌─────────────┐
    │   React     │  Query Keys: ['projects'], ['tasks', id], ...
    │   Query     │  Cache: staleTime 5분, gcTime 10분
    └──────┬──────┘
           │ 호출
           ▼
    ┌─────────────┐
    │  Service    │  projectService, taskService, documentService
    │   Layer     │  DTO 변환: snake_case ↔ camelCase
    └──────┬──────┘
           │ HTTP Request
           ▼
    ┌─────────────┐
    │ API Client  │  axios.create({ baseURL, timeout, credentials })
    │  (Axios)    │  Interceptors: 에러 처리, 토큰 갱신
    └──────┬──────┘
           │ HTTPS
           ▼
    ┌─────────────┐
    │  Backend    │  FastAPI @ https://api.example.com
    │    API      │
    └─────────────┘
```
